main#compose {
	header {
		display: none;
	}
	#transport_controls {
		display: none;
	}
	#transport_mark {
		opacity: 0;
		position: absolute;
		width: 0.4rem;
		height: calc(100% + 4rem);
		background-color: $mainLightPlus;
		left: 20rem;
		top: -2rem;
		z-index: 5;

		&::before {
			content: " ";
			display: block;
			position: absolute;
			box-sizing: border-box;
			top: -1rem;
			left: -0.85rem;
			border-left: 1rem solid transparent;
			border-right: 1rem solid transparent;
			border-top: 1.5rem solid $mainLightPlus;
		}
	}
	#tracks {
		> div[id^="t"] {
			display: grid;
			width: 100%;
			// min-width: 100% !important;
			margin: 2rem 0;
			height: 25rem;
			box-shadow: $shadow;
			border-radius: $borderRadius * 0.5;
			overflow: hidden;
			position: relative;
			.controls {
				position: relative;
				box-sizing: border-box;
				width: 15rem;
				height: 100%;
				padding: 2rem 1rem;

				> div {
					user-select: none;
					position: absolute;
					select {
						width: 10rem;
						position: relative;
						top: 1rem;
						&:first-of-type {
							margin-bottom: 1rem;
						}

						& + label {
							position: relative;
							top: -5.2rem;
							font-size: $regular * 0.8;
							text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.363);
						}
						&:last-of-type + label {
							top: -4.2rem;
						}
					}
					input[type="checkbox"] {
						display: none;
						& + label {
							cursor: pointer;
							display: block;
							background-color: $main;
							width: 2rem;
							height: 2rem;
							margin: 0.5rem 1.25rem;
							text-align: center;
							font-weight: bolder;
							font-size: $regular * 0.8;
							line-height: $regular * 1.2;
							border-radius: $borderRadius * 0.5;
							box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.363);
						}
					}
					.track-name {
						font-family: $fTitle;
						color: $background;
						font-weight: bolder;
						font-size: $regular * 1.5;
						line-height: 0;
						text-indent: 0;
						position: absolute;
						bottom: -3rem;
					}
					div[id^="pan"] {
						display: none;
					}
					svg {
						cursor: pointer;
						filter: drop-shadow(2px 2px 1px rgba(0, 0, 0, 0.555));
						display: inline-block;
						margin: 1rem;
					}
				}
			}
			div[id^="seq"] {
				height: calc(90% - 1rem);
				width: 94%;
				position: relative;
				top: 1.5rem;
				display: grid;
				grid-template-rows: 12.5% 12.5% 12.5% 12.5% 12.5% 12.5% 12.5% 12.5%;

				> div {
					display: grid;
					grid-template-columns: 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25% 6.25%;
					input {
						display: none;
						& + label {
							cursor: pointer;
							display: block;
							width: 100%;
							height: 100%;
							border-bottom: 1px solid $white !important;
							border-top: 1px solid $white !important;
							&:nth-of-type(4n + 1) {
								border-left: 2px solid $white !important;
							}
							&:nth-of-type(16) {
								border-right: 2px solid $white !important;
							}
						}
						&:checked + label {
							background-color: $white !important;
							border: 1px solid $background !important;
						}
					}
				}
			}
			.next-page,
			.previous-page {
				fill: $background;
				position: absolute;
				right: 0.8rem;
				top: 1.5rem;
				width: 1.5rem;
			}
			.previous-page {
				top: 3.7rem;
				transform: rotateZ(180deg);
			}
		}
		@for $n from 1 through 4 {
			div#t#{$n} {
				@include track($n);

				background-color: var(--tlight);

				@if $n == 1 {
					grid-template-columns: 14rem 6rem 1fr;

					#drum_name {
						height: calc(90% - 1rem);
						width: 95%;
						position: relative;
						top: 1.5rem;
						display: grid;
						grid-template-rows: 12.5% 12.5% 12.5% 12.5% 12.5% 12.5% 12.5% 12.5%;
						p {
							user-select: none;
							border-top: 1px solid var(--tlight);
							cursor: pointer;
							font-size: $regular * 0.7;
							line-height: $regular * 0.7 * 2.5;
							text-indent: 0;
							width: 100%;
							margin: 0;
							padding: 0;
							text-align: center;
							height: 100%;
							background-color: $background;

							&:hover {
								background-color: $background + 55;
							}
						}
					}
				} @else {
					grid-template-columns: 20rem 1fr;
				}
				.controls {
					> div {
						input[type="checkbox"] {
							& + label {
								background-color: var(--tdark);
							}
							&:checked + label {
								background-color: var(--tmain);
							}
						}
						svg {
							fill: var(--tmain);
						}
					}
				}
				div[id^="seq"] {
					> div {
						input {
							& + label {
								background-color: var(--tmain);
								border: 1px solid var(--tlight);
							}
						}
						&:nth-of-type(2n) {
							input + label {
								background-color: var(--tdark);
							}
						}
					}
				}
				.next-page,
				.previous-page {
					&:hover {
						fill: var(--tdark);
					}
				}
			}
		}
	}
}
